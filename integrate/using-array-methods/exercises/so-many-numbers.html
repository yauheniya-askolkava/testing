<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset='utf-8'>
  <title>So Many Numbers</title>

  <style>
    .centered {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }
  </style>

  <script id='script-variables'>
    let numbers = [0, 1, 2, 3, 4];
  </script>

  <script id='handlers'>
    'use strict';
    /* Study the demo for this exercise then fill in the blanks
      the goal is to exactly recreate the behavior of the demo
      hint: use ctr-f to find all of the blanks _
    */

    // 1. A user can see all numbers listed in an alert
    const displayNumbersHandler = (arrayOfNumbers = numbers, message = `all numbers`) => {
      debugger;
      const joinNumbers = (acc, next) => `${acc}\n${next}`;

      const allNumbersListed = arrayOfNumbers
        .reduce(joinNumbers, '');
      alert(`${message}: ${allNumbersListed}`);
    };

    // 2. A user can fill the array with as many numbers as they like
    //  (beginning with zero, ending with userNumber - 1)
    const resetNumbersHandler = () => {
      debugger;
      const userInput = prompt('how many numbers would you like?');
      if ( userInput===null) { return; }

      const userNumber = Number(userInput);
      if (isNaN(userNumber)) {
        alert(`${userInput} is not a valid number`);
        return;
      }

      // a basic for loop, not for ... of
      numbers = [];
      for (let i = 0; i < userNumber; i++) {
        numbers.push(i);
      };

      displayNumbersHandler(); // no arguments! this is correct like it is
    };

    // 3. A user can see a list of all numbers greater than their input
    const greaterThanHandler = () => {
      debugger;
      const userInput = prompt('find all numbers greater than: ');
      if (userInput===null) { return; }

      const userNumber = Number(userInput);
      if (isNaN(userNumber)) {
        alert(`${userInput} is not a valid number`);
        return;
      }

      const numbersGreaterThan = numbers.filter(x => x > userNumber);
      const howMany = numbersGreaterThan.length;
      const newMessage = `there are ${howMany} numbers greater than ${userNumber}`;

      displayNumbersHandler(numbersGreaterThan, newMessage);
    };

    // 4. A user can see a list of all numbers less than their input
    const lessThanHandler = () => {
      debugger;
      const userInput = prompt('find all numbers less than: ');
      if (userInput === null) { return; }

      const userNumber = Number(userInput);
      if (isNan(userNumber)) {
        alert(`${userInput} is not a valid number`);
        return;
      }

      const numbersLessThan = numbers.filter(x => x < userNumber);
      const howMany = numbersLessThan.length;
      const newMessage = `there are ${howMany} numbers less than ${userNumber}`;

      displayNumbersHandler(numbersLessThan, newMessage);
    };

    // 5. A user can see a list of all numbers divisible by their input
    const divisibleByHandler = () => {
      debugger;
      const userInput = prompt('find all numbers divisible by:');
      if (userInput === null) { return; }

      const userNumber = Number(userInput);
      if (typeof userNumber !== 'number') {
        alert(` ${userInput} is not a valid number `);
        return;
      }

      const numbersDivisible = numbers.filter(x => x % userNumber === 0);
      const howMany = numbersDivisible.length;
      const newMessage = `there are ${howMany} numbers divisible by ${userNumber}`;

      displayNumbersHandler(numbersDivisible, newMessage);
    };
  </script>
</head>

<body>

  <main id='user interface' class='centered'>
    <button onclick="greaterThanHandler()">how many greater than X</button> <br>
    <button onclick="lessThanHandler()">how many less than X</button> <br>
    <button onclick="divisibleByHandler()">how many divisible by X</button> <br>
    <br>
    <button onclick="displayNumbersHandler()">display numbers</button> <br>
    <button onclick="resetNumbersHandler()">reset numbers</button>
  </main>

</body>

</html>
